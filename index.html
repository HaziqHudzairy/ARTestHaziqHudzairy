<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AR.js with GPS Tracking</title>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
    <a-scene
    vr-mode-ui="enabled: false"
    embedded
    arjs="sourceType: webcam; debugUIEnabled: false;"
>
    <!-- Assets -->
    <a-assets>
        <!-- Load GLTF model -->
        <a-asset-item id="myModel" src="asset/asset.gltf"></a-asset-item>
    </a-assets>

    <!-- AR content -->
    <a-entity gltf-model="#myModel" scale="0.1 0.1 0.1" position="0 0 -5"></a-entity>
    <!-- Adjust the 'position' attribute to move the object further away -->

    <!-- Camera entity -->
    <a-entity camera></a-entity>
</a-scene>
    <script>
        // Function to retrieve current location using Geolocation API
        function getLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition);
            } else {
                console.error("Geolocation is not supported by this browser.");
            }
        }

        // Callback function to handle retrieved location
        function showPosition(position) {
            console.log("Latitude: " + position.coords.latitude + ", Longitude: " + position.coords.longitude);

            // Calculate 3D position in AR scene based on latitude and longitude
            const latitude = position.coords.latitude;
            const longitude = position.coords.longitude;

            // Convert latitude and longitude to 3D coordinates relative to the user's position
            const latitudeToY = latitude * 100; // Adjust scale as needed
            const longitudeToX = longitude * 100; // Adjust scale as needed

            // Update AR content position based on calculated coordinates
            const arContent = document.querySelector('a-box');
            arContent.setAttribute('position', `${longitudeToX} 0 ${latitudeToY}`);
        }

        // Call getLocation function to start retrieving location
        getLocation();
    </script>
</body>
</html>
